language: node_js

runtime:
  nodePool: default_shared_node_pool

env:
  global:
    - FOO=FUBU_2

  matrix:
    - M1=ONE
    #- M2=TWO
    #- M3=THREE 
    #- M4=ONE
    #- M5=TWO
    #- M6=THREE     

build:
  pre_ci:
    - echo "true_8"

  pre_ci_boot:
    image_name: drydock/u16nodall
    image_tag: v6.2.4
    pull: false
    options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    #- failing it
    #- sleep 40
    - printenv
    - cat $BASH_ENV
    
  post_ci:
    - echo "true"

  smoke_test:
    - sudo ls /

#integrations:
#  notifications:
#    - integrationName: email
#      type: email
#      recipients:
#        - ankul@shippable.com
#        - ankulkumar001@gmail.com
#        - mabcd71@gmail.com
#      on_success: always
#
#    - integrationName: irc
#      type: irc
#      recipients:
#        - "chat.quakenet.org#randyorton"
#      on_success: always
#
#integrations:
#  notifications:
#    - integrationName: resource-trigger-subint
#      type: webhook
#      payload:
#      - versionName=Shippable nginx-image-2 $BUILD_NUMBER
#      on_success: always
#      on_start: never
#      on_pull_request: always

#    - integrationName: resource-trigger-subint-2
#      type: webhook
#      payload:
#      - versionName=Shippable nginx-image-3 $BUILD_NUMBER
#      on_success: always
#      on_start: never
#      on_pull_request: always
